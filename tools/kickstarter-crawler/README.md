# ğŸ¯ Kickstarter Crawler

Kickstarter í”„ë¡œì íŠ¸ ë°ì´í„°ë¥¼ í¬ë¡¤ë§í•˜ì—¬ Supabase ì‡¼í•‘ëª° ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•˜ëŠ” ë„êµ¬ì…ë‹ˆë‹¤.

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
kickstarter-crawler/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ crawler.ts        # ë©”ì¸ í¬ë¡¤ëŸ¬
â”‚   â”œâ”€â”€ types.ts          # íƒ€ì… ì •ì˜
â”‚   â””â”€â”€ test-connection.ts # DB ì—°ê²° í…ŒìŠ¤íŠ¸
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ .env                  # í™˜ê²½ ë³€ìˆ˜ (ìƒì„± í•„ìš”)
â”œâ”€â”€ .env.example          # í™˜ê²½ ë³€ìˆ˜ í…œí”Œë¦¿
â””â”€â”€ README.md
```

## ğŸš€ ì‹œì‘í•˜ê¸°

### 1. ì˜ì¡´ì„± ì„¤ì¹˜

```bash
pnpm install
```

### 2. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

`.env.example`ì„ ë³µì‚¬í•˜ì—¬ `.env` íŒŒì¼ì„ ìƒì„±í•˜ê³ , ì‡¼í•‘ëª° í”„ë¡œì íŠ¸ì˜ Supabase ì •ë³´ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤:

```bash
cp .env.example .env
```

```env
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key
```

### 3. ì—°ê²° í…ŒìŠ¤íŠ¸

```bash
pnpm test
```

### 4. í¬ë¡¤ë§ ì‹¤í–‰

```bash
pnpm crawl
```

## ğŸ“‹ ì‚¬ìš© ë°©ë²•

### ë°©ë²• 1: ì¸ê¸° í”„ë¡œì íŠ¸ ìë™ ìˆ˜ì§‘

`src/crawler.ts`ì—ì„œ `targetUrls` ë°°ì—´ì´ ë¹„ì–´ìˆìœ¼ë©´, ìë™ìœ¼ë¡œ Kickstarter ì¸ê¸° í”„ë¡œì íŠ¸ë¥¼ ìˆ˜ì§‘í•©ë‹ˆë‹¤.

```bash
pnpm crawl
```

### ë°©ë²• 2: íŠ¹ì • í”„ë¡œì íŠ¸ í¬ë¡¤ë§

`src/crawler.ts`ì˜ `targetUrls` ë°°ì—´ì— URLì„ ì¶”ê°€í•©ë‹ˆë‹¤:

```typescript
const targetUrls: string[] = [
  'https://www.kickstarter.com/projects/creator/project-name',
  'https://www.kickstarter.com/projects/another/cool-gadget',
];
```

## âš™ï¸ ì„¤ì • ì˜µì…˜

`src/crawler.ts`ì˜ `CONFIG` ê°ì²´ì—ì„œ ì¡°ì • ê°€ëŠ¥:

| ì˜µì…˜ | ê¸°ë³¸ê°’ | ì„¤ëª… |
|------|--------|------|
| `headless` | `true` | `false`ë¡œ ì„¤ì •í•˜ë©´ ë¸Œë¼ìš°ì € ì°½ì´ í‘œì‹œë¨ (ë””ë²„ê¹…ìš©) |
| `timeout` | `60000` | í˜ì´ì§€ ë¡œë”© íƒ€ì„ì•„ì›ƒ (ms) |
| `delay` | `3000` | ìš”ì²­ ê°„ ëŒ€ê¸° ì‹œê°„ (ms) - ì°¨ë‹¨ ë°©ì§€ |
| `retryCount` | `3` | ì‹¤íŒ¨ ì‹œ ì¬ì‹œë„ íšŸìˆ˜ |
| `maxProjects` | `10` | í•œ ë²ˆì— í¬ë¡¤ë§í•  ìµœëŒ€ í”„ë¡œì íŠ¸ ìˆ˜ |

## ğŸ“Š ì €ì¥ë˜ëŠ” ë°ì´í„°

í¬ë¡¤ë§ëœ Kickstarter í”„ë¡œì íŠ¸ëŠ” ì‡¼í•‘ëª°ì˜ `products` í…Œì´ë¸”ì— ë‹¤ìŒê³¼ ê°™ì´ ì €ì¥ë©ë‹ˆë‹¤:

| Kickstarter | â†’ | products í…Œì´ë¸” |
|-------------|---|-----------------|
| í”„ë¡œì íŠ¸ ì œëª© | â†’ | `title` |
| í”„ë¡œì íŠ¸ ì„¤ëª… | â†’ | `description` |
| ì¸ë„¤ì¼ ì´ë¯¸ì§€ | â†’ | `thumbnail_url` |
| ë¹„ë””ì˜¤ URL | â†’ | `video_url` |
| ëª©í‘œ ê¸ˆì•¡ | â†’ | `original_price` |
| ëª¨ê¸ˆì•¡ (ì›í™”) | â†’ | `price_krw` |
| ë‹¬ì„±ë¥  | â†’ | `external_rating` (5ì  í™˜ì‚°) |
| í›„ì›ì ìˆ˜ | â†’ | `external_review_count` |
| í”„ë¡œì íŠ¸ URL | â†’ | `source_url` |
| íƒœê·¸ | â†’ | `tags` (ì¹´í…Œê³ ë¦¬, ìœ„ì¹˜, ìƒíƒœ ë“±) |

## âš ï¸ ì£¼ì˜ì‚¬í•­

1. **ìš”ì²­ ë¹ˆë„**: ë„ˆë¬´ ë¹ ë¥¸ ìš”ì²­ì€ IP ì°¨ë‹¨ ìœ„í—˜ì´ ìˆìŠµë‹ˆë‹¤. `delay` ê°’ì„ 3000ms ì´ìƒìœ¼ë¡œ ìœ ì§€í•˜ì„¸ìš”.

2. **robots.txt**: Kickstarterì˜ ì´ìš©ì•½ê´€ì„ í™•ì¸í•˜ì„¸ìš”.

3. **ìƒì—…ì  ì‚¬ìš©**: í¬ë¡¤ë§í•œ ë°ì´í„°ì˜ ìƒì—…ì  ì‚¬ìš©ì€ ë²•ì  ê²€í† ê°€ í•„ìš”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

4. **í˜ì´ì§€ êµ¬ì¡° ë³€ê²½**: Kickstarter í˜ì´ì§€ êµ¬ì¡°ê°€ ë³€ê²½ë˜ë©´ ì…€ë ‰í„° ìˆ˜ì •ì´ í•„ìš”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ğŸ”§ ë””ë²„ê¹…

ë¸Œë¼ìš°ì € ì°½ì„ í‘œì‹œí•˜ì—¬ í¬ë¡¤ë§ ê³¼ì •ì„ í™•ì¸í•˜ë ¤ë©´:

```typescript
const CONFIG: CrawlConfig = {
  headless: false,  // ë¸Œë¼ìš°ì € ì°½ í‘œì‹œ
  // ...
};
```

ìŠ¤í¬ë¦°ìƒ· ì €ì¥:

```typescript
await crawler.screenshot('debug-screenshot.png');
```

## ğŸ“ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” í•™ìŠµ ë° ê°œì¸ ìš©ë„ë¡œë§Œ ì‚¬ìš©í•˜ì„¸ìš”.

